/**
 * Root
 */
.square_based_animation
  position: absolute;
  width: $square-width
  height: $square-height
  opacity: 0.0

  &.square_based_animation--shock-blue
    background-color: blue
    animation-name: square_based_animation--shock
    // TODO: データ定義から動的に設定するように
    animation-duration: 500ms
  &.square_based_animation--shock-red
    background-color: red
    animation-name: square_based_animation--shock
    animation-duration: 500ms

  @keyframes square_based_animation--shock
    0%
      opacity: 0.0
    30%
      opacity: 0.5
    100%
      opacity: 0.0


.reactTransitionDeadUnit-leave
  opacity: 1
.reactTransitionDeadUnit-leave-active
  opacity: 0.01
  transition: opacity 500ms ease-in

.root
  margin: 0 auto
  position: relative
  width: $app-width
  height: $app-height
  z-index: $z-index-base
  background-color: $app-background-color
  color: $app-color
  &__status-bar
    height: 24px
    ul
      display: flex
      justify-content: center
      li
        margin-right: 10px
  &__battle-board
    // width/height are set from JS
    position: relative
    margin: 4px auto 0 auto
  &__recruitment-board
    position: relative
    margin: 8px auto 0 auto
    background-color: gray

.unit
  width: $square-width
  height: $square-height
  &.unit--ally
    color: blue
  &.unit--enemy
    color: red
  i
    position: absolute
    display: block
    top: 8px
    left: 8px
    width: 32px
    height: 32px
    animation-name: unit-breathing
    animation-duration: 1s
    animation-iteration-count: infinite
    animation-direction: alternate
    @keyframes unit-breathing
      0%
        transform: translateY(-1px)
        text-shadow: 5px 5px #aaa
      100%
        transform: translateY(1px)
        text-shadow: 3px 3px #aaa

.square
  position: absolute
  width: $square-width
  height: $square-height
  background-color: #fff
  border: 1px solid $app-background-color
  &.square--landform-castle
    background-color: #808000
  &.square--landform-desert
    background-color: #ffff00
  &.square--landform-forest
    background-color: #008000
  &.square--landform-fort
    background-color: #c0c0c0
  &.square--landform-grassfield
    background-color: #00ff00
  &.square--landform-mountain
    background-color: #808080
  &.square--landform-river
    background-color: #00ffff
  &.square--landform-road
    background-color: #efefef

.square-matrix
  $z-index-touchpad: 9999
  $z-index-cursor: 5
  $z-index-bullet: 4
  $z-index-square-based-animation-container: 3
  $z-index-unit: 2
  $z-index-unit-on-square: 1
  position: relative;
  width: 100%
  height: 100%
  overflow: hidden
  &__touchpad
    position: absolute;
    width: 100%
    height: 100%
    z-index: $z-index-touchpad
  &__cursor
    position: absolute;
    width: $square-width
    height: $square-height
    z-index: $z-index-cursor
    border: 2px solid #ff5f00
  &__bullet
    position: absolute
    z-index: $z-index-bullet
  &__square-based-animation-container
    position: absolute;
    width: 100%
    height: 100%
    z-index: $z-index-square-based-animation-container
  &__unit
    position: absolute;
    z-index: $z-index-unit
  &__unit--is-alive
    transition: top $tick-interval + ms linear, left $tick-interval + ms linear
  &__unit-on-square
    position: absolute;
    z-index: $z-index-unit-on-square

.bullet
  width: 8px
  height: 8px
  background-color: red
